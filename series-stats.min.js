// Series Stats 1.0.0
// https://github.com/gmac/series-stats
// Freely distributed under the MIT license
(function(r){"use strict";function n(r,n){return r-n}function t(r,n){return n-r}function e(r){for(var n=0,t=[];r>=n++;)t.push(0);return t}function u(r,n){for(var t=[],u=0;r>=u;u++)t.push(e(n));return t}var o={min:function(r){return Math.min.apply(Math,r)},max:function(r){return Math.max.apply(Math,r)},sum:function(r){for(var n=0,t=r.length-1;t>=0;t--)n+=r[t];return n},mean:function(r){return o.sum(r)/r.length},sort:function(r,e){return r.sort(e?t:n)},plot:function(r,n,t){if(t){for(var e=r.length-1;e>=0;e--)if(n>=r[e])return e}else for(var e=0,u=r.length-1;u>e;e++)if(r[e]>=n)return e-1;return-1},equalBreaks:function(r,n){for(var t=[],e=o.min(r),u=(o.max(r)-e)/n,a=0;n>=a;a++)t.push(e),e+=u;return t},quantileBreaks:function(r,t){r.sort(n);for(var e=[],u=(r.length-1)/t,o=0;t>=o;o++)e.push(r[Math.round(o*u)]);return e},jenksBreaks:function(r,t){var o=r.length,a=e(t),f=u(o,t),i=u(o,t);if(r.sort(n),t+1>o)return r.slice();for(var s=1;t>=s;s++){f[0][s]=1,i[0][s]=0;for(var l=1;o>=l;l++)i[l][s]=1/0}for(var c=0,v=2;o>=v;v++){for(var h=0,p=0,m=0,d=1;v>=d;d++){var g=v-d+1,M=parseFloat(r[g-1]);p+=M*M,h+=M,m+=1,c=p-h*h/m;var k=g-1;if(0!==k)for(var x=2;t>=x;x++)i[v][x]>=c+i[k][x-1]&&(i[v][x]=c+i[k][x-1],f[v][x]=g)}f[v][1]=1,i[v][1]=c}a[0]=parseFloat(r[0]),a[t]=parseFloat(r[o-1]);for(var y=t;y>1;)a[y-1]=r[f[o][y]-2],o=f[o][y]-1,y--;return a[0]===a[1]&&(a[0]=0),a}};"undefined"!=typeof module?module.exports=o:"function"==typeof define&&define.amd?define(o):r.Series=o})(this);